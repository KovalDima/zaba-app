(self.webpackChunkzaba_app=self.webpackChunkzaba_app||[]).push([[274],{677:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(475);s(43);const c=s.p+"static/media/zaba.5c21ef9164367c325ea96b91213bb33a.svg";var r=s(579);const a=()=>(0,r.jsx)(n.N_,{to:"/zaba-app",className:"logo",title:"Zaba Store",children:(0,r.jsx)("img",{className:"logo__img",src:c,alt:"Zaba"})})},13:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var n=s(475),c=s(677),r=s(43),a=s(3),i=s(216),o=s(446),l=s.n(o),u=s(579);const d=()=>{const e=(0,a.wA)(),{searchValue:t,activeCategory:s,sortData:n}=(0,a.d4)(i.dx),[c,o]=(0,r.useState)(""),d=(0,r.useRef)();(0,r.useEffect)((()=>{d.current.value=t}),[t,s,n]);const p=(0,r.useCallback)(l()((t=>{e((0,i.gB)({value:t}))}),400),[]);return(0,u.jsxs)("div",{className:"search",children:[(0,u.jsx)("input",{ref:d,onChange:e=>{o(e.target.value),p(e.target.value)},className:"search__input",type:"search",placeholder:"Search",value:c}),(0,u.jsx)("span",{onClick:()=>{o(""),e((0,i.gB)({value:""})),d.current.focus()},className:"search__clear ".concat(c||t?"visible":""),children:"\xd7"})]})};var p=s(888);const h=()=>{const{totalPrice:e,totalCount:t}=(0,a.d4)(p.VH);return(0,u.jsx)("header",{className:"header",children:(0,u.jsxs)("div",{className:"header__wrapper",children:[(0,u.jsx)(c.A,{}),(0,u.jsx)(d,{}),(0,u.jsx)(n.N_,{to:"/cart",className:"header__cart ".concat(t?"filled":""),title:"Cart",children:t?(0,u.jsxs)("span",{children:[t," | ",e,"$"]}):null})]})})},m=()=>{const{activeCategory:e,categories:t}=(0,a.d4)(i.dx),s=(0,a.wA)();return(0,u.jsx)("ul",{className:"filter",children:t.map((t=>(0,u.jsx)("li",{onClick:()=>s((0,i.dm)({category:t})),className:"filter__item ".concat(e===t?"active":""),children:t[0].toUpperCase()+t.slice(1)},t)))})};var f=s(379),v=s(494);const g={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},j={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},b="mousemove",x="mouseup";function _(e,t){if(0===t)return e;const s=Math.PI/180*t;return[e[0]*Math.cos(s)+e[1]*Math.sin(s),e[1]*Math.cos(s)-e[0]*Math.sin(s)]}function w(e,t){const s=t=>{const s="touches"in t;s&&t.touches.length>1||e(((e,c)=>{c.trackMouse&&!s&&(document.addEventListener(b,n),document.addEventListener(x,r));const{clientX:a,clientY:i}=s?t.touches[0]:t,o=_([a,i],c.rotationAngle);return c.onTouchStartOrOnMouseDown&&c.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),j),{initial:o.slice(),xy:o,start:t.timeStamp||0})}))},n=t=>{e(((e,s)=>{const n="touches"in t;if(n&&t.touches.length>1)return e;if(t.timeStamp-e.start>s.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:c,clientY:r}=n?t.touches[0]:t,[a,i]=_([c,r],s.rotationAngle),o=a-e.xy[0],l=i-e.xy[1],u=Math.abs(o),d=Math.abs(l),p=(t.timeStamp||0)-e.start,h=Math.sqrt(u*u+d*d)/(p||1),m=[o/(p||1),l/(p||1)],f=function(e,t,s,n){return e>t?s>0?"Right":"Left":n>0?"Down":"Up"}(u,d,o,l),v="number"===typeof s.delta?s.delta:s.delta[f.toLowerCase()]||g.delta;if(u<v&&d<v&&!e.swiping)return e;const j={absX:u,absY:d,deltaX:o,deltaY:l,dir:f,event:t,first:e.first,initial:e.initial,velocity:h,vxvy:m};j.first&&s.onSwipeStart&&s.onSwipeStart(j),s.onSwiping&&s.onSwiping(j);let b=!1;return(s.onSwiping||s.onSwiped||s["onSwiped".concat(f)])&&(b=!0),b&&s.preventScrollOnSwipe&&s.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:j,swiping:!0})}))},c=t=>{e(((e,s)=>{let n;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<s.swipeDuration){n=Object.assign(Object.assign({},e.eventData),{event:t}),s.onSwiped&&s.onSwiped(n);const c=s["onSwiped".concat(n.dir)];c&&c(n)}}else s.onTap&&s.onTap({event:t});return s.onTouchEndOrOnMouseUp&&s.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),j),{eventData:n})}))},r=e=>{document.removeEventListener(b,n),document.removeEventListener(x,r),c(e)},a=(e,t)=>{let r=()=>{};if(e&&e.addEventListener){const a=Object.assign(Object.assign({},g.touchEventOptions),t.touchEventOptions),i=[["touchstart",s,a],["touchmove",n,Object.assign(Object.assign({},a),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",c,a]];i.forEach((t=>{let[s,n,c]=t;return e.addEventListener(s,n,c)})),r=()=>i.forEach((t=>{let[s,n]=t;return e.removeEventListener(s,n)}))}return r},i={ref:t=>{null!==t&&e(((e,s)=>{if(e.el===t)return e;const n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=void 0),s.trackTouch&&t&&(n.cleanUpTouch=a(t,s)),Object.assign(Object.assign(Object.assign({},e),{el:t}),n)}))}};return t.trackMouse&&(i.onMouseDown=s),[i,a]}function O(e){const{trackMouse:t}=e,s=r.useRef(Object.assign({},j)),n=r.useRef(Object.assign({},g)),c=r.useRef(Object.assign({},n.current));let a;for(a in c.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},g),e),g)void 0===n.current[a]&&(n.current[a]=g[a]);const[i,o]=r.useMemo((()=>w((e=>s.current=e(s.current,n.current)),{trackMouse:t})),[t]);return s.current=function(e,t,s,n){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==s.preventScrollOnSwipe||t.touchEventOptions.passive!==s.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(s.current,n.current,c.current,o),i}const N=e=>{let{name:t,price:s,sizes:n,colors:c,images:i,id:o}=e;const l=(0,a.wA)(),[d,h]=(0,r.useState)(0),[m,v]=(0,r.useState)(0),[g,j]=(0,r.useState)(0),[b,x]=(0,r.useState)(!1),_=i[c[m]],w=e=>{e<0?e=0:e>=_.length&&(e=_.length-1),j(e)},N=O({onSwipedLeft:()=>w(g+1),onSwipedRight:()=>w(g-1),preventScrollOnSwipe:!0,trackTouch:!0,swipeDuration:1500});return(0,u.jsxs)("li",{className:"products-item",id:o,children:[(0,u.jsxs)("div",{className:"products-item__head",children:[b?null:(0,u.jsx)("div",{className:"products-item__img-placeholder"}),(0,u.jsxs)("div",(0,f.A)((0,f.A)({className:"products-item__slider"},N),{},{children:[_.map(((e,s)=>(0,u.jsx)("img",{width:"400px",className:"products-item__img",style:{transform:"translateX(-".concat(100*g,"%)")},src:e,alt:t,loading:"lazy",onLoad:0===s?()=>x(!0):null},e))),(0,u.jsx)("div",{className:"products-item__slider-pagination",children:_.map(((e,t)=>(0,u.jsx)("span",{className:g===t?"active":null},t)))}),(0,u.jsx)("button",{type:"button",className:"products-item__slider-btn products-item__slider-btn--prev",onClick:()=>w(g-1)}),(0,u.jsx)("button",{type:"button",className:"products-item__slider-btn products-item__slider-btn--next",onClick:()=>w(g+1)})]})),(0,u.jsxs)("div",{className:"products-item__inner",title:t,children:[(0,u.jsx)("h3",{className:"products-item__name",children:t}),(0,u.jsxs)("p",{className:"price products-item__price",children:["$",s]})]})]}),(0,u.jsxs)("div",{className:"products-item__footer",children:[(0,u.jsxs)("div",{className:"products-item__inner products-item__inner--bottom",children:[(0,u.jsx)("ul",{className:"products-item__list products-item__list--sizes",children:n.map(((e,t)=>(0,u.jsx)("li",{onClick:()=>h(t),className:d===t?"checked":null,children:(0,u.jsx)("span",{children:e})},e)))}),(0,u.jsx)("ul",{className:"products-item__list products-item__list--colors",children:c.map(((e,t)=>(0,u.jsx)("li",{onClick:()=>(e=>{j(0),v(e)})(t),style:{background:"white"===e?"#f4f4f4":e},className:m===t?"checked":null},e)))})]}),(0,u.jsxs)("button",{onClick:()=>{const e={name:t,price:s,image:_[0],size:n[d],color:c[m],count:1,id:"".concat(o,"-").concat(c[m],"-").concat(n[d])};l((0,p.dU)({item:e}))},className:"btn btn--add-cart",children:[(0,u.jsx)("span",{}),"Add to cart"]})]})]})};var S=s(913);const y=e=>{let{message:t}=e;return(0,u.jsx)("p",{className:"error",children:t})},k=()=>{const e=(0,a.wA)(),t=(0,r.useRef)(),s=(0,r.useRef)(!1),c=(0,r.useRef)(!1),[o,l]=(0,n.ok)(),{searchValue:d,activeCategory:p,sortData:h,sortItems:m,sortData:[,g]}=(0,a.d4)(i.dx),{items:j,page:b,isMoreItems:x,loading:_,error:w,cache:O}=(0,a.d4)(v.VW),k="".concat(p,"_").concat(g,"_").concat(d);(0,r.useEffect)((()=>{const t=Object.fromEntries([...o]),s=m.find((e=>e.includes(t.sortBy)));Object.keys(t).length&&(e((0,i._F)((0,f.A)((0,f.A)({},t),{},{sortData:s}))),c.current=!0)}),[]),(0,r.useEffect)((()=>{s.current&&l({searchValue:d,activeCategory:p,sortBy:g}),s.current=!0}),[p,h,d]),(0,r.useEffect)((()=>{window.scrollTo(0,0),c.current||(e((0,v.I$)()),O[k]?e((0,v.Xd)({cacheKey:k})):e((0,v.j0)({category:p,sortBy:g,searchValue:d,page:1}))),c.current=!1}),[p,h,d]);return(0,r.useEffect)((()=>{const s=new IntersectionObserver((t=>{t[0].isIntersecting&&x&&e((0,v.j0)({page:b,category:p,sortBy:g,searchValue:d}))}));return s&&t.current&&s.observe(t.current),()=>s.disconnect()}),[j]),(0,u.jsxs)("section",{className:"products",children:[(0,u.jsx)("h2",{hidden:!0,children:"Products"}),(0,u.jsx)("ul",{className:"products__list",style:{minHeight:"".concat(j.length<=3?"50vh":"")},children:_?(0,u.jsx)("li",{children:(0,u.jsx)(S.A,{})}):w?(0,u.jsx)("li",{children:(0,u.jsx)(y,{message:w})}):j.length?j.map((e=>(0,r.createElement)(N,(0,f.A)((0,f.A)({},e),{},{key:e.id})))):(0,u.jsx)("li",{className:"products__not-found",children:"Not Found"})}),x&&(0,u.jsx)("p",{ref:t,className:"products__more",children:"Loading more..."})]})},E=()=>{const{sortItems:e,sortData:[t]}=(0,a.d4)(i.dx),s=(0,a.wA)(),[n,c]=(0,r.useState)(!1),o=(0,r.useRef)();(0,r.useEffect)((()=>(window.addEventListener("click",l),()=>window.removeEventListener("click",l))),[]);const l=e=>{e.target!==o.current&&c(!1)};return(0,u.jsxs)("div",{className:"sort ".concat(n?"active":""),children:[(0,u.jsx)("p",{ref:o,className:"sort__current",onClick:e=>{e.stopPropagation(),c((e=>!e))},children:(0,u.jsxs)("span",{children:["Sort: ",t]})}),(0,u.jsx)("ul",{className:"sort__list",children:e.map((e=>(0,u.jsx)("li",{className:"sort__item ".concat(t===e[0]?"active":""),onClick:()=>s((0,i.hJ)({sortItem:e})),children:e[0]},e[0])))})]})},T=()=>{const[e,t]=(0,r.useState)(!0);(0,r.useEffect)((()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s))),[]);const s=()=>{const e=document.documentElement.scrollHeight;window.scrollY>e-e/1.5?t(!1):t(!0)};return(0,u.jsx)("div",{onClick:()=>window.scrollTo(0,0),className:"page-up ".concat(e?"":"show")})},C=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{}),(0,u.jsx)("h1",{children:"Zaba. Online t-shirt store"}),(0,u.jsxs)("div",{className:"sorting",children:[(0,u.jsx)(m,{}),(0,u.jsx)(E,{})]}),(0,u.jsx)(k,{}),(0,u.jsx)(T,{})]})},446:(e,t,s)=>{var n=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,o="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=o||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,m=function(){return u.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=r.test(e);return s||a.test(e)?i(e.slice(2),s?2:8):c.test(e)?NaN:+e}e.exports=function(e,t,s){var n,c,r,a,i,o,l=0,u=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var s=n,r=c;return n=c=void 0,l=t,a=e.apply(r,s)}function b(e){var s=e-o;return void 0===o||s>=t||s<0||d&&e-l>=r}function x(){var e=m();if(b(e))return _(e);i=setTimeout(x,function(e){var s=t-(e-o);return d?h(s,r-(e-l)):s}(e))}function _(e){return i=void 0,g&&n?j(e):(n=c=void 0,a)}function w(){var e=m(),s=b(e);if(n=arguments,c=this,o=e,s){if(void 0===i)return function(e){return l=e,i=setTimeout(x,t),u?j(e):a}(o);if(d)return i=setTimeout(x,t),j(o)}return void 0===i&&(i=setTimeout(x,t)),a}return t=v(t)||0,f(s)&&(u=!!s.leading,r=(d="maxWait"in s)?p(v(s.maxWait)||0,t):r,g="trailing"in s?!!s.trailing:g),w.cancel=function(){void 0!==i&&clearTimeout(i),l=0,n=o=c=i=void 0},w.flush=function(){return void 0===i?a:_(m())},w}}}]);
//# sourceMappingURL=Home.7859e6b0.chunk.js.map